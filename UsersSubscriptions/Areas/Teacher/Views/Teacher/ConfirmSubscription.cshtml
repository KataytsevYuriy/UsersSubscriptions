@model Subscription
@{
    Layout = "_TeacherLayout";
}

<div class="bg-primary text-center text-info"><h3>Confirming a Subscription</h3></div>
<div>Course: <span>@Model.Course.Name</span></div>
<div>User: @Model.AppUser.FullName</div>
<div>Month: @Model.DayStart.ToString("MMMM:yyyy")</div>
<form action="@(Model.ConfirmedBy==null?"ConfirmSubscription":"ConfirmPayedSubscription")" method="post">
    <input type="hidden" asp-for="Id" />
    @if (Model.ConfirmedBy == null)
    {
        <button type="submit" class="btn btn-primary">Confirm a Subscription</button>
    }
    else
    {
        <div> Confirmed: @Model.ConfirmedBy.FullName  @Model.ConfirmedDatetime.ToString("dd:MMMM:yyyy")</div>
        @if (Model.PayedTo != null)
        {
            <div>Payed to: @Model.PayedTo.FullName  @Model.PayedDatetime.ToString("dd:MMMM:yyyy")</div>
        }
        else
        {
            <div>Price: <input type="number" name="Price" value="@Model.Price" /></div>
            <button type="submit" class="btn btn-primary">Confirm payed a Subscription</button>
        }
    }
</form>
<a asp-action="CourseInfo" asp-route-Id="@Model.CourseId" class="btn btn-info">Back to Course Info</a>